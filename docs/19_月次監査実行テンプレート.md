# 月次監査実行テンプレート（governance periodic checks）

## 0. 利用方法
- 本テンプレートを複製し、`docs/監査結果_YYYY-MM.md` のように保存して利用する。
- 対象規約は `.github/governance-periodic-checks.md` とする。
- 監査完了後は `ai/decision_log.md` と `ai/todo.md` に要点を記録する。
- 初回作成例は `docs/20_月次監査結果_2026-02.md` を参照する。

---

## 1. 監査ヘッダ
- 実施年月: YYYY-MM
- 実施日: YYYY-MM-DD
- 実施者:
- レビューア:
- 対象ブランチ/コミット:

## 2. 実行コマンド（標準）

### 2.1 差分優先
`python manage.py test apps.account_requests.tests.PerformanceGovernanceTests --parallel 4 --durations 5`

### 2.2 全体回帰（PR前・マージ前）
`python manage.py test --parallel 4 --durations 10`

---

## 3. 一覧系性能監査（クエリ予算）

### 3.1 測定条件（固定）
- データ件数:
- 画面ページサイズ:
- フィルタ条件:

### 3.2 予算値
| 対象 | クエリ予算 | 実測クエリ数 | 判定 |
|---|---:|---:|---|
| 資産一覧（Web） | 12 |  |  |
| 資産一覧（API） | 8 |  |  |
| 監査ログ一覧（Web） | 10 |  |  |

### 3.3 実行時間（遅延上位）
| 順位 | テスト名 | 実行時間(s) | 前回比 | 判定 |
|---:|---|---:|---:|---|
| 1 |  |  |  |  |
| 2 |  |  |  |  |
| 3 |  |  |  |  |

---

## 4. テスト実行パフォーマンス運用チェック
- [ ] 並列実行（`--parallel 4`）で実行した
- [ ] 遅延調査で `--durations` を併用した
- [ ] 差分優先実行 → 全体回帰の順で実施した
- [ ] 重いテスト追加時の軽量化案（分割/共通化/Service単体化）を提示した

---

## 5. 規約例外管理チェック

### 5.1 今回の例外判定
- 新規例外: あり / なし

### 5.2 例外登録テンプレート（必要時のみ）
| 項目 | 記録内容 |
|---|---|
| 例外理由 |  |
| 影響範囲 |  |
| 暫定/恒久 |  |
| 解消方針と期限 |  |
| 例外オーナー |  |
| `ai/todo.md` タスクID |  |
| 失効日 |  |

---

## 6. 互換コード棚卸しチェック
- [ ] 互換コード新規追加の有無を確認した
- [ ] 理由・期限・削除タスクの有無を確認した
- [ ] 四半期棚卸し結果を `ai/todo.md` に記録した

棚卸し結果メモ:
- 対象:
- 判定:
- 対応:

---

## 7. 定期レビュー頻度チェック
- [ ] 週次（10分）軽量確認を実施
- [ ] 月次（30〜60分）本監査を実施
- [ ] リリース前重点監査の要否を判定

---

## 8. 是正結果サマリ
- 主要結果:
- 退行有無:
- 是正内容:
- 次月アクション:

## 9. 記録先更新チェック
- [ ] `docs` 監査結果文書を更新した
- [ ] `ai/decision_log.md` を更新した
- [ ] `ai/todo.md` を更新した
